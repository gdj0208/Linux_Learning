# ğŸ“ ë§í¬
## 1ï¸âƒ£ ë§í¬ vs ì‹¬ë²Œë¦­ ë§í¬
### ğŸ¯ í•˜ë“œ ë§í¬
- íŒŒì¼ì— ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” íŒŒì¼ëª…ì„ ìƒì„±
- inode ì‚¬ìš©
- í•˜ë“œ ë§í¬ ìƒì„±ì‹œ inodeì— ì €ì¥ëœ ë§í¬ ìˆ˜ ì¦ê°€

### ğŸ¯ ì‹¬ë²Œë¦­ ë§í¬
- ê¸°ì¡´ íŒŒì¼ì— ì ‘ê·¼í•  ìˆ˜ ìˆëŠ” íŒŒì¼
- ê¸°ì¡´ íŒŒì¼ê³¼ ë‹¤ë¥¸ inode ì‚¬ìš©
- ê¸°ì¡´ íŒŒì¼ì˜ ê²½ë¡œë¥¼ ì €ì¥

<br>

## 2ï¸âƒ£ ë§í¬ ê´€ë ¨ ëª…ë ¹ì–´
### ğŸ¯ í•˜ë“œ ë§í¬ ìƒì„± : link()
#### **1. ì½”ë“œ**
```
# include <unistd.h>

int link(const char *oldpath ,const char *newpath);
```
- í•˜ë“œ ë§í¬ë¥¼ ìƒì„±í•  ë•Œ ì‚¬ìš©
- êµ¬ ê²½ë¡œ, ì‹  ê²½ë¡œ ë‘˜ ë‹¤ ê°™ì€ íŒŒì¼ ì‹œìŠ¤í…œìœ¼ë¡œ ì§€ì •í•´ì•¼ í•¨

#### **2. ì½”ë“œ ì˜ˆì‹œ**
```
// ex_1.c

#include <sys/types.h>
#include <sys/stat.h>
#include <sys/errno.h>
#include <unistd.h>
#include <stdio.h>

extern int errno;

main() {
    struct stat buf;

    stat("test.txt", &buf);
    printf("Before Link Count = %d\n", (int)buf.st_nlink);

    link("test.txt", "test.ln");

    stat("test.txt", &buf);
    printf("After Link Count = %d\n", (int)buf.st_nlink);
}
```
<br>

### ğŸ¯ ì‹¬ë²Œë¦­ ë§í¬ ìƒì„± : symlink()
#### **1. ì½”ë“œ**
```
# include <unistd.h>

int symlink(const char *target, const char *linkpath);
```
- target : ê¸°ì¡´ íŒŒì¼ ê²½ë¡œ
- linkpath : ìƒˆë¡œ ìƒì„±í•  ì‹¬ë²Œë¦­ ë§í¬ ê²½ë¡œ

- ì‹¬ë²Œë¦­ ë§í¬ëŠ” ê¸°ì¡´ íŒŒì¼ê³¼ ë‹¤ë¥¸ íŒŒì¼ ì‹œìŠ¤í…œì—ë„ ìƒì„± ê°€ëŠ¥

#### **2. ì½”ë“œ ì˜ˆì‹œ**
```
// ex_2.c

#include <sys/types.h>
#include <sys/stat.h>
#include <sys/errno.h>
#include <unistd.h>
#include <stdio.h>

main() {
        symlink("test.txt", "test.sym");
}
```
<br>

### ğŸ¯ ì‹¬ë²Œë¦­ ë§í¬ì˜ ì •ë³´ ê²€ìƒ‰ : lstat()

#### **1. ì½”ë“œ**
```
# include <sys/types.h>
# include <sys/stat.h>
# include <unistd.h>

int lstat(const char *pathname, struct stat *statbuf);
```
- pathname : ì‹¬ë²Œë¦­ ë§í¬ ê²½ë¡œ
- statbuf : ìƒˆë¡œ ìƒì„±í•  ë§í¬ì˜ ê²½ë¡œ

- ì‹¬ë²Œë¦­ ë§í¬ë¥¼ stat()ë¡œ ê²€ìƒ‰ì‹œ ì›ë³¸ íŒŒì¼ì— ëŒ€í•œ ì •ë³´ê°€ ê²€ìƒ‰ëœë‹¤ëŠ” ì ì— ì£¼ì˜í•  ê²ƒ

#### **2. ì½”ë“œ ì˜ˆì‹œ**
```
// ex_3.c

#include <sys/types.h>
#include <sys/stat.h>
#include <sys/errno.h>
#include <unistd.h>
#include <stdio.h>

main() {

        struct stat buf;

        printf("1. stat : test.txt ---\n");
        stat("test.txt", &buf);
        printf("test.txt : Link Count = %d\n", (int)buf.st_nlink);
        printf("test.txt : Inode = %d\n", (int)buf.st_ino);

        printf("2. stat : test.sym ---\n");
        stat("test.sym", &buf);
        printf("test.sym : Link Count = %d\n", (int)buf.st_nlink);
        printf("test.sym : Inode = %d\n", (int)buf.st_ino);

        printf("3. lstat : test.sym ---\n");
        lstat("test.sym", &buf);
        printf("test.sym : Link Count = %d\n", (int)buf.st_nlink);
        printf("test.sym : Inode = %d\n", (int)buf.st_ino);

}
```

<br>

### ğŸ¯ ì‹¬ë²Œë¦­ ë§í¬ì˜ ë‚´ìš© ì½ê¸° : readlink()

#### **1. ì½”ë“œ**
```
# include <unistd.h>

ssize_t readlink(const char *pathname, char *buf, size_t bufsiz);
```
- pathname : ì‹¬ë²Œë¦­ ë§í¬ ê²½ë¡œ
- buf : ì½ì–´ì˜¨ ë‚´ìš©ì„ ì €ì¥í•  ë²„í¼
- bufsiz : ë²„í¼ í¬ê¸°

#### **2. ì½”ë“œ ì˜ˆì‹œ**
```
// ex_4.c

#include <sys/types.h>
#include <sys/stat.h>
#include <sys/errno.h>
#include <unistd.h>
#include <stdio.h>
#include <fcntl.h>
#include <stdlib.h>

main() {

        char buf1[BUFSIZ], buf2[BUFSIZ];
        int n;

        n = readlink("test.sym", buf1, BUFSIZ);
        if (n == -1) {
                perror("readlink");
                exit(1);
        }

        buf1[n] = '\0';
        printf("test.sym : READLINK = %s\n", buf1);

        realpath("test.sym", buf2);
	printf("test.sym : REALPATH = %s\n", buf2);

}
```


### ğŸ¯ ì‹¬ë²Œë¦­ ë§í¬ ì›ë³¸ íŒŒì¼ì˜ ê²½ë¡œ ì½ê¸° : realpath()

#### **1. ì½”ë“œ**
```
# include <limits.h>
# include <stdlib.h>

char *realpath(const char *path, char *resolved_path);
```
- path : ì‹¬ë²Œë¦­ ë§í¬ì˜ ê²½ë¡œëª…
- resolved_path : ê²½ë¡œëª…ì„ ì €ì¥í•  ë²„í¼ ì£¼ì†Œ

#### **2. ì½”ë“œ ì˜ˆì‹œ**
```
// ex_5.c

# include <sys/stat.h>
# include <stdlib.h>
# include <stdio.h>

int main() {
    char buf[BUFSIZ];

    realpath("linux.sym", buf);
    printf("Real path : %s", buf);
}
```
<br>


### ğŸ¯ ë§í¬ ëŠê¸° : unlink()

#### **1. ì½”ë“œ**
```
# include <unistd.h>

int unlink(const char *pathname);
```
- pathname : ì‚­ì œí•  ë§í¬ì˜ ê²½ë¡œ

#### **2. ì½”ë“œ ì˜ˆì‹œ**
```
// ex_6.c

#include <sys/stat.h>
#include <unistd.h>
#include <stdio.h>

int main() {
    struct stat statbuf;

    stat("linux.ln", &statbuf);
    printf("1.linux.ln : Link Count = %d\n", (int)statbuf.st_nlink);

    unlink("linux.ln");

    stat("linux.txt", &statbuf);
    printf("2.linux.txt: Link Count = %d\n", (int)statbuf.st_nlink);

    unlink("linux.sym");
}
```
<br>
<br>

---

# ğŸ“ íŒŒì¼ ì…ì¶œë ¥
## 0ï¸âƒ£ ì €ìˆ˜ì¤€ ì…ì¶œë ¥ê³¼ ê³ ìˆ˜ì¤€ ì…ì¶œë ¥ì˜ ë¹„êµ
|  | ì €ìˆ˜ì¤€ ì…ì¶œë ¥ | ê³ ìˆ˜ì¤€ ì…ì¶œë ¥ |
| :---: | :---: | :---: |
| íŒŒì¼ ì§€ì‹œì | int fd | FILE *fp |
| íŠ¹ì§• | - í›¨ì”¬ ë¹ ë¦„ <br> - ë°”ì´íŠ¸ íƒ„ìœ„ ì½/ì“°ê¸° <br> - íŠ¹ìˆ˜ íŒŒì¼ ì ‘ê·¼ ê°€ëŠ¥ | - í›¨ì”¬ ì‰¬ì›€ <br> - ë²„í¼ ë‹¨ìœ„ ì½/ì“°ê¸° <br> - ì—¬ëŸ¬ í˜•ì‹ ì§€ì› |
| ì£¼ìš” í•¨ìˆ˜| open(), close(), read() ë“± | fopen(), fclose(), fread() ë“± |


## 1ï¸âƒ£ íŒŒì¼ ê¸°ìˆ ì
- ì—´ë ¤ìˆëŠ” íŒŒì¼ì„ êµ¬ë¶„í•  ëª©ì ìœ¼ë¡œ ì‹œìŠ¤í…œì—ì„œ ë¶™ì—¬ë†“ì€ ë²ˆí˜¸
- ì €ìˆ˜ì¤€ íŒŒì¼ ì…ì¶œë ¥ì—ì„œëŠ” ì—´ë¦° íŒŒì¼ì„ ì°¸ì¡°í•˜ëŠ”ë° ì‚¬ìš©í•˜ëŠ” ì§€ì‹œì ì—­í•  ìˆ˜í–‰
- íŒŒì¼ ê¸°ìˆ ìëŠ” ì •ìˆ˜ê°’
- open()ë¥¼ ì‚¬ìš©í•´ íŒŒì¼ì„ ì—´ ë•Œ ë¶€ì—¬
- í”„ë¡œì„¸ìŠ¤ê°€ íŒŒì¼ì„ ì—´ ë•Œ 0ë²ˆë¶€í„° ìˆœì„œëŒ€ë¡œ ë¶€ì—¬
![alt text](image.png)
    - 0 : í‘œì¤€ ì…ë ¥
    - 1 : í‘œì¤€ ì¶œë ¥
    - 2 : í‘œì¤€ ì˜¤ë¥˜ ì¶œë ¥
    - 3ë¶€í„° íŒŒì¼ ê¸°ìˆ ìê°€ í• ë‹¹ë¨


## 2ï¸âƒ£ ê³ ìˆ˜ì¤€ íŒŒì¼ ì…ì¶œë ¥
(ì‹¤í–‰ ì½”ë“œëŠ” ì‹œí—˜ì— ë³„ë¡œ ë‚˜ì˜¤ì§€ ì•Šì„ ê²ƒ)
- ì €ìˆ˜ì¤€ íŒŒì¼ ì…ì¶œë ¥ì˜ ë¶ˆí¸í•¨ í•´ì„œ
- C ì–¸ì–´ í‘œì¤€í•¨ìˆ˜ ì œê³µ 
- ë²„í¼ë¥¼ ì´ìš©í•œ í•œ ë²ˆì— ì½ê¸° & ì“°ê¸° ê°€ëŠ¥
- ìë£Œí˜•ì— ë”°ë¼ í¸ë¦¬í•˜ê²Œ ì‹œìš©
- ì—´ë¦° íŒŒì¼ ì°¸ì¡°

### ğŸ¯ íŒŒì¼ ì—´ê¸° : fopen()
#### [ 1. ì„¤ëª… ]
```
#include <stdio.h>

FILE* fopen(const char *pathname, const char *mode)
```
- pathname : íŒŒì¼ ê²½ë¡œ
- mode : íŒŒì¼ ì—´ê¸° ëª¨ë“œ
    - r : ì½ê¸° ì „ìš©
    - w : ì“°ê¸° ì „ìš© (ê¸°ì¡´ ë‚´ìš© ì‚­ì œ)
    - a : ì“°ê¸° ì „ìš© (ê¸°ì¡´ ë‚´ìš©ì— ì¶”ê°€)
    - rb, wb, ab : ë°”ì´ë„ˆë¦¬ íŒŒì¼ë¡œ ì½ê¸°, ì“°ê¸°
    - r+, w+, a+ : ì¼ê¸°, ì“°ê¸°ìš© í…ìŠ¤íŠ¸ íŒŒì¼
    - rb+, wb+, ab+ : ë°”ì´ë„ˆë¦¬ íŒŒì¼ë¡œ ì½ê¸°/ì“°ê¸°

#### [ 2. ì½”ë“œ ì˜ˆì‹œ ]
```
FILE *fp;
fp = fopen("test.txt", "r");
```
<br>

### ğŸ¯ íŒŒì¼ ë‹«ê¸° : fclose()
#### [ 1. ì„¤ëª… ]
```
#include <stdio.h>

int fclose(FILE *stream);
```
- stream : fopen()ì—ì„œ ë¦¬í„´í•  íŒŒì¼ í¬ì¸í„°

#### [ 2. ì½”ë“œ ì˜ˆì‹œ ]
```
FILE *fp;
fp = fopen("test.txt", "r");
fclose(fp);
```
<br>

### ğŸ¯ ë¬¸ì ê¸°ë°˜ ì¶œë ¥ : fputc(), putc(), putchar(), putw()
#### [ 1. ì„¤ëª… ]
```
#include <stdio.h>

int fgetc(FILE *stream);
int getc(FILE *stream);
int getchar(void);
int getw(FILE *stream);
```
- fgetc : íŒŒì¼ë¡œë¶€í„° ë¬¸ì í•˜ë‚˜ë¥¼ ì½ì–´ì˜´
- getc : fgetcì™€ ìœ ì‚¬í•˜ë‚˜ ë©”ëª¨ë¦¬ë¥¼ ë” ë¨¹ê³  í¼í¬ë¨¼ìŠ¤ë¥¼ ì˜¬ë¦¼
- getchar() : í‘œì¤€ ì…ë ¥ì—ì„œ ë¬¸ì 1ê°œë¥¼ ì½ì–´ì˜´
- getw : íŒŒì¼ì—ì„œ ì›Œë“œ ë‹¨ìœ„ë¡œ ã…£ã…‡ã„¹ã„±ìŒ

#### [ 2. ì½”ë“œ ì˜ˆì‹œ ]
```
// ex_15.c

#include <stdlib.h>
#include <stdio.h>

int main() {
    FILE *rfp, *wfp;
    int c;

    rfp = fopen("test.txt", "r");
    if(rfp == NULL) { perror("fopen"); exit(1); }

    wfp = fopen("test.txt", "w");
    if(wfp == NULL) { perror("fopen"); exit(1); }

    whlie((c = fgetc(rfp)) != EOF) { fputc(c, wfp); }
    fclose(rfp);
    fclose(wfp);
}
```
<br>

### ğŸ¯ ë¬¸ìì—´ ê¸°ë°˜ ì…ë ¥ : gets(), fgets()
#### [ 1. ì„¤ëª… ]
```
#include <stdio.h>

char *gets(const char *s);
char *fgets(char *s, int size, FILE *stream);
```
- s: ë¬¸ìì—´ì„ ì €ì¥í•  ë²„í¼ì˜ ì‹œì‘ì£¼ì†Œ
- size :ë²„í¼ì˜ í¬ê¸°
- stream : íŒŒì¼ í¬ì¸í„°
<br>

### ğŸ¯ ë¬¸ìì—´ ê¸°ë°˜ ì¶œë ¥ : puts(), fputs()
#### [ 1. ì„¤ëª… ]
```
#include <stdio.h>

int puts(const char *s);
int fputs(const char *s, FILE *stream);
```
- s : ë¬¸ìì—´ ì£¼ì†Œ
- stream : íŒŒì¼ í¬ì¸í„°
<br>

### ğŸ¯ ë²„í¼ ê¸°ë°˜ ì…ë ¥ : fread()
#### [ 1. ì„¤ëª… ]
```
#include <stdio.h>

size_t fread(void *ptr, size_t size, size_t nmemb, FILE *stream);
```
- ptr : ë²„í¼ ì£¼ì†Œ
- size : ë²„í¼ í¬ê¸°
- nmemb : ì½ì–´ì˜¬ í•­ëª© ìˆ˜
- stream : íŒŒì¼ í¬ì¸í„°

- í¬ê¸°ê°€ sizeì¸ nmembì—ì„œ ì§€ì •í•œ ìˆ˜ ë§Œí¼ ptrì— ì €ì¥

#### [ 2. ì½”ë“œ ì˜ˆì‹œ ]
```
// ex_16.c

#include <stdlib.h>
#include <stdio.h>

int main() {
     FILE *rfp;
     char buf[BUFSIZ];
     int n;

     if ((rfp = fopen("testdata", "r")) == NULL) {
        perror("fopen: testdata");
        exit(1);
     }

     while ((n=fread(buf, sizeof(char)*2, 4, rfp)) > 0) {
        buf[8] = '\0';
        printf("n=%d, buf=%s\n", n, buf);
     }

     fclose(rfp);
}
```
<br>

### ğŸ¯ ë²„í¼ ê¸°ë°˜ ì¶œë ¥ : fwrite()
#### [ 1. ì„¤ëª… ]
```
#include <stdio.h>

size_t fwrite(const void *ptr, size_t size, size_t nmemb, FILE *stream);
```
- ptr : ë²„í¼ ì£¼ì†Œ
- size : í•­ëª©ì˜ í¬ê¸°
- nmemb : í•­ëª© ìˆ˜
- stream : íŒŒì¼ í¬ì¸í„°

- í¬ê¸°ê°€ sizeì¸ nmembì—ì„œ ì§€ì •í•œ ìˆ˜ ë§Œí¼ íŒŒì¼ì— ì¶œë ¥

#### [ 2. ì½”ë“œ ì˜ˆì‹œ ]
```
// ex_17.c

#include <stdlib.h>
#include <stdio.h>

int main() {
     FILE *rfp, *wfp;
     char buf[BUFSIZ];
     int n;

     if ((rfp = fopen("test.txt", "r")) == NULL) {
        perror("fopen: test.txt");
        exit(1);
     }

     if ((wfp = fopen("test.out", "a")) == NULL) {
         perror("fopen: test.out");
         exit(1);
     }

     while ((n = fread(buf, sizeof(char)*2, 4, rfp)) > 0) {
        fwrite(buf, sizeof(char)*2, n, wfp);
     }

     fclose(rfp);
     fclose(wfp);
}
```
<br>

### ğŸ¯ íŒŒì¼ ì˜¤í”„ì…‹ ì´ë™ : fseek()
#### [ 1. ì„¤ëª… ]
```
#include <stdio.h>

int fseek(FILE *stream, long offset, int whence);
```
1. fseek í•¨ìˆ˜ì˜ íŠ¹ì§•
    - lseek() í•¨ìˆ˜ì™€ ìœ ì‚¬í•˜ê²Œ ë™ì‘
    - fream íŒŒì¼ì—ì„œ offsetì— ì§€ì •í•œ í¬ê¸°ë§Œí¼ ì˜¤í”„ì…‹ ì´ë™
2. ì¸ì
    - stream : íŒŒì¼ í¬ì¸í„°
    - offset : ì´ë™í•  ì˜¤í”„ì…‹
    - whence : ì˜¤í”„ì…‹ì˜ ê¸°ì¤€ ìœ„ì¹˜
        - SEEK_SET : íŒŒì¼ ì‹œì‘ì„ ê¸°ì¤€ìœ¼ë¡œ ê³„ì‚°
        - SEEK_CUR : í˜„ì¬ ìœ„ì¹˜ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ê³„ì‚°
        - SEEK_END : íŒŒì¼ì˜ ëì„ ê¸°ì¤€ìœ¼ë¡œ ê³„ì‚°
<br>

### ğŸ¯ í˜„ì¬ ì˜¤í”„ì…‹ êµ¬í•˜ê¸° : ftell()
#### [ 1. ì„¤ëª… ]
```
#include <stdio.h>

long ftell(FILE *stream);
```
- ì¸ìë¡œ ì§€ì •í•œ íŒŒì¼ì˜ í˜„ì¬ ì˜¤í”„ì…‹ì„ ë°˜í™˜
- ë°˜í™˜ê°’
    - ì‹¤íŒ¨ : EOF
    - ì„±ê³µ : long

#### [ 2. ì½”ë“œ ì˜ˆì‹œ ]
```
long cur;
cur = ftell(fp);
```
<br>

### ğŸ¯ ì²˜ìŒ ìœ„ì¹˜ë¡œ ì˜¤í”„ì…‹ ì´ë™ : rewind()
#### [ 1. ì„¤ëª… ]
```
#include <stdio.h>

void rewind(FILE *stream);
```
- ì˜¤í”„ì…‹ ìœ„ì¹˜ë¥¼ íŒŒì¼ì˜ ì‹œì‘ìœ¼ë¡œ ì¦‰ì‹œ ì´ë™

#### [ 2. ì½”ë“œ ì˜ˆì‹œ ]
```
// ex_18.c

#include <stdlib.h>
#include <stdio.h>
#include <string.h>

int main(void) {
    FILE *fp;
    FILE *newfp;
    int newfd;
    
    int n;
    long cur;
    fpos_t fcur;
    char buf[BUFSIZ];

    if ((fp = fopen("test.dat", "r")) == NULL) {
        perror("fopen: test.dat");
        exit(1);
    }

    newfd = fileno(fp);
    printf("%d\n", newfd);

    cur = ftell(fp);
    printf("Offset cur=%d\n", (int)cur);

    n = fread(buf, sizeof(char), 5, fp);
    buf[n] = '\0';
    printf("-- Read Str=%s\n", buf);

    fseek(fp, 1, SEEK_CUR);

    cur = ftell(fp);
    printf("Offset cur=%d\n", (int)cur);

    n = fread(buf, sizeof(char), 6, fp);
    buf[n] = '\0';
    printf("-- Read Str=%s\n", buf);

    fseek(fp, 1, SEEK_CUR);

    cur = ftell(fp);
    printf("Offset cur=%d\n", (int)cur);

    n = fread(buf, sizeof(char), 11, fp);
    buf[n] = '\0';
    printf("-- Read Str=%s\n", buf);

    rewind(fp);
    cur = ftell(fp);
    printf("Rewind Offset cur=%d\n", (int)cur);

    fclose(fp);

    return 0;
}
```
<br>

### ğŸ¯ íŒŒì¼ê³¼ ë””ìŠ¤í¬ ë™ê¸°í™” : fflush()
#### [ 1. ì„¤ëª… ]
```
#include <stdio.h>

int fflush(FILE *stream);
```
- ë²„í¼ì— ìˆëŠ” ë°ì´í„°ë¥¼ íŒŒì¼ì— ê¸°ë¡
<br>

### ğŸ¯ íŒŒì¼ ê¸°ìˆ ìì™€ íŒŒì¼ í¬ì¸í„° ë³€í™˜
- ì €ìˆ˜ì¤€ íŒŒì¼ ì…ì¶œë ¥ : ì—´ë¦° íŒŒì¼ì„ ê°€ë¦¬í‚¬ ë•Œ íŒŒì¼ ê¸°ìˆ ìë¥¼ ì‚¬ìš©
    
    íŒŒì¼ ê¸°ìˆ ì -> íŒŒì¼ í¬ì¸í„° : FILE *fdopen(int fd, const char *mode);

- ê³ ìˆ˜ì¤€ íŒŒì¼ ì…ì¶œë ¥ : íŒŒì¼ í¬ì¸í„° ì‚¬ìš©

    íŒŒì¼ í¬ì¸í„° -> íŒŒì¼ ê¸°ìˆ ì : int fileno(FILE *stream);



## 3ï¸âƒ£ ì €ìˆ˜ì¤€ íŒŒì¼ ì…ì¶œë ¥
- ë¦¬ëˆ…ìŠ¤ ì»¤ë„ì˜ ì‹œìŠ¤í…œ í˜¸ì¶œì„ ì´ìš©í•˜ì—¬ íŒŒì¼ ì…ì¶œë ¥ì„ ì‹¤í–‰
- ì‹œìŠ¤í…œ í˜¸ì¶œì„ ì´ìš©í•˜ì—¬ íŒŒì¼ì— ì¢€ ë” ë¹ ë¥´ê²Œ ì ‘ê·¼
- ë°”ì´íŠ¸ ë‹¨ìœ„ë¡œ íŒŒì¼ì„ ë‹¤ë£¸ 
    - íŠ¹ìˆ˜ íŒŒì¼ ì½ê³  ì“°ê¸° ê°€ëŠ¥
- ì‘ìš©í”„ë¡œê·¸ë¨ ì‘ì„± ì‹œ ë‹¤ë¥¸ ì¶”ê°€ê¸°ëŠ¥ì„ í•¨ìˆ˜ë¡œ ì¶”ê°€ êµ¬í˜„ í•„ìš”
- ì—´ë¦° íŒŒì¼ ì°¸ì¡°ì‹œ íŒŒì¼ ê¸°ìˆ ì ì‚¬ìš©


### ğŸ¯ open()
#### [ 1. ì½”ë“œ ]a
```
# include <sys/stat.h>
# include <sys/types.h>
# include <fcntl.h>

int open(const char *pathname, int flags, mode_t mode);
```
- pathnameì— ì§€ì •í•œ íŒŒì¼ì„ lagsì— ì§€ì •í•œ ìƒíƒœ í”Œë˜ê·¸ì˜ ê°’ì— ë”°ë¼ ì—´ê³  íŒŒì¼ ê¸°ìˆ ìë¥¼ ë°˜í™˜
- íŒŒì¼ ìƒíƒœë¥¼ ì¡°ì •í•˜ëŠ” flagsê°’ë“¤ì€ `man`ìœ¼ë¡œ í™•ì¸ ê°€ëŠ¥

#### [ 2. open ì¸ìê°’ì™€ ë°˜í™˜ê°’ ]
- ì¸ì : 
    - pathname : ë””ë ‰í„°ë¦¬ê°€ í¬í•¨ëœ ê²½ë¡œ
    - flags : íŒŒì¼ ìƒíƒœ í”Œë˜ê·¸
    - mode : ì ‘ê·¼ ê¶Œí•œ
- ë°˜í™˜ : 
    - 0 : ìˆ˜í–‰ ì„±ê³µ 
    - -1 : ì‹¤íŒ¨ 

#### [ 3. open() ì£¼ìš” flag ]
| ì¢…ë¥˜ | ê¸°ëŠ¥ |
| :---: | :---: |
| O_RDONLY | - íŒŒì¼ì„ ì½ê¸° ì „ìš©ìœ¼ë¡œ ì—´ê¸° |
| O_WRONLY | - íŒŒì¼ì„ ì“°ê¸° ì „ìš©ìœ¼ë¡œ ì—´ê¸° |
| O_RDWR | - íŒŒì¼ì„ ì½ê¸°/ì“°ê¸°ë¡œ ì—´ê¸° |
| O_CREAT | - íŒŒì¼ ìƒì„± |
| O_EXCL | - ê¸°ì¡´ì— ì—†ëŠ” íŒŒì¼ ìƒì„± <br> - ìˆì„ ì‹œ ì˜¤ë¥˜ ë©”ì‹œì§€ ì¶œë ¥ <br> - O_CREATì™€ í•¨ê»˜ ì‚¬ìš© |
| O_APPEND | - íŒŒì¼ ë§¨ ëì— ë‚´ìš©ì„ ì¶”ê°€ |
| O_TRUNC | - íŒŒì¼ ì“°ê¸° ì˜µì…˜ìœ¼ë¡œ ì—´ ë•Œ ê¸°ì¡´ ë‚´ìš© ì§€ìš°ê¸° <br> - O_CREATì™€ í•¨ê»˜ ì‚¬ìš© |
| O_SYNC <br> O_DSYNC | - íŒŒì¼ ì“°ê¸° ì‹¤í–‰ ì‹œ ì €ì¥ì¥ì¹˜ì— ì“°ê¸°ë¥¼ ë§ˆì³ì•¼ ë™ì‘ì„ ì™„ë£Œ |

- O_EXCLê³¼ O_TRUNCëŠ” O_CREATì™€ í•¨ê»˜ ì‚¬ìš©í•¨ì— ì£¼ì˜!

#### **4. í”Œë˜ê·¸ ì§€ì •**
1. ì´ë¯¸ ìˆëŠ” íŒŒì¼ì„ ì“°ê¸° ì „ìš©ìœ¼ë¡œ ì—´ê¸°

    ```O_WRONLY | O_TRUNC ```

2. ì—†ëŠ” íŒŒì¼ì„ ì“°ê¸° ì „ìš©ìœ¼ë¡œ ì—´ê¸°

    ```O_WRONLY | O_CREAT | O_TRUNC```

3. ì½ê¸° / ì“°ê¸° / ì¶”ê°€ìš©ìœ¼ë¡œ ì—´ ë•Œ 

    ```O_RDWR | O_APPEND```

4. ìƒìˆ˜ë¥¼ ì´ìš©í•´ 0644 ê¶Œí•œ ì§€ì •

    ```mode = S_IRUSR | S_IWGRO | S_IROTH```

#### **5. ì½”ë“œ ì˜ˆì‹œ**
```
// ex_7.c

# include <sys/types.h>
# include <sys/stat.h>
# include <fcntl.h>
# include <unistd.h>
# include <stdlib.h>
# include <stdio.h>

int main() {
    int fd;
    mode_t mode;

    mode = S_IRUSR | S_IWUSR | S_IRGRP | S_IROTH;

    fd = open("test.txt", O_CREAT, mode);
    if (fd == -1) {
        perror("Create");
        exit(1);
    }
    closed(fd);
}
```
<br>

### ğŸ¯ creat()
#### **[ 1. ì½”ë“œ ì˜ˆì‹œ ]**
```
# include <sys/types.h>
# include <sys/stat.h>
# include <fcntl.h>

int creat(const char *pathname, mode_t mode);
```

- open()ê³¼ ë‹¬ë¦¬ í”Œë˜ê·¸ ì§€ì • X
- íŒŒì¼ ìƒì„±ì‹œ íŒŒì¼ ê¸°ìˆ ìê°€ ë°˜í™˜ë¨ -> íŒŒì¼ì„ ì—´ ë•Œ open() í•„ìš” ì—†ìŒ
- `creat(pathname, mode)`ì™€ `open(pathname, O_CREAT | O_WRONLY | O_TRUNC, mode)`ëŠ” ê°™ì€ ì½”ë“œ

#### **[ 2. open ì¸ìê°’ì™€ ë°˜í™˜ê°’ ]**
- ì¸ìê°’ :
    - pathname : íŒŒì¼ ìƒì„± ê²½ë¡œ
    - mode : ì ‘ê·¼ ê¶Œí•œ

test1.c -> test.txtíŒŒì¼ì´ ì´ë¯¸ ìˆìœ¼ë©´ ì˜¤ë¥˜ ë°œìƒ

<br>

### ğŸ¯ close()
#### **[ 1. ì½”ë“œ ì˜ˆì‹œ ]**
```
# include <unistd.h>

int close(int fd);
```

#### **[ 2. close ì¸ìê°’ê³¼ ë°˜í™˜ê°’ ]**
- ì¸ìê°’ : 
    - fd : íŒŒì¼ ê¸°ìˆ ì
- ë°˜í™˜ê°’ :
    - 0 : ì„±ê³µì ì¸ íŒŒì¼ ë‹«ê¸°
    - -1 : íŒŒì¼ ë‹«ê¸°ì— ì‹¤íŒ¨

#### **[ 3. close() ì˜ˆì‹œ ì½”ë“œ ]**
```
// ex_8.c

# include <sys/types.h>
# include <sys/stat.h>
# include <fcntl.h>
# include <unistd.h>
# include <stdlib.h>
# include <stdio.h>

int main() {
    int fd;

    fd = open("test.txt", O_CREAT | O_EXCL);
    if (fd == -1) {
        perror("Create");
        exit(1);
    }
    close(fd);
}
```
<br>

### ğŸ¯ read()
#### **[ 1. ì½”ë“œ ]**
```
# include <unistd.h>

ssize_t read(int fd, void *buf, size_t count);
```

#### **[ 2. íŠ¹ì§• ]**
- ì¸ìê°’ : 
    - fd : íŒŒì¼ ê¸°ìˆ ì
    - buf : íŒŒì¼ì— ê¸°ë¡í•  ë°ì´í„°ë¥¼ ì €ì¥í•œ ë©”ëª¨ë¦¬ ì˜ì—­
    - count : bufì˜ í¬ê¸°(ê¸°ë¡í•  ë°ì´í„° í¬ê¸° : byte ë‹¨ìœ„)
- í•¨ìˆ˜ íŠ¹ì§•
    - íŒŒì¼ ê¸°ìˆ ìê°€ ê°€ë¥´í‚¤ëŠ” íŒŒì¼ì—ì„œ count ë§Œí¼ ì½ì–´ bufì— ì €ì¥
    - íŒŒì¼ ìœ í˜•ì— ìƒê´€ì—†ì´ ë°”ì´íŠ¸ ë‹¨ìœ„ë¡œ ì½ìŒ

#### **[ 3. ì½”ë“œ ì˜ˆì‹œ]**
```
// ex_9.c

# include <fcntl.h>
# include <unistd.h>
# include <stdlib.h>
# include <stdio.h>

int main() {
    int fd, n;
    char buf[BUFSIZ];

    fd = open("test.txt", O_RDONLY);
    if (fd == -1) {
        perror("Open");
        exit(1);
    }

    n = read(fd, buf, sizeof(buf));
    if(n == -1) {
        perror("Read");
        exit(1);
    }

    buf[n] = '\0';
    printf("n = %d\n", n);
    printf("buf : \n%s", buf);
    close(fd);
}
```
<br>

### ğŸ¯ write()
#### **[ 1. ì½”ë“œ ]**
```
# include <unistd.h>

ssize_t write(int fd, const void *buf, size_t count);
```
#### **[ 2. íŠ¹ì§• ]**
- ì¸ì
    - fd : íŒŒì¼ ê¸°ìˆ ì
    - buf : íŒŒì¼ì— ê¸°ë¡í•  ë°ì´í„°ë¥¼ ì €ì¥í•œ ë©”ëª¨ë¦¬ ì˜ì—­
    - count : buf í¬ê¸°
- ë°˜í™˜ê°’ :
    - ì„±ê³µ : buf í¬ê¸°
    - ì‹¤íŒ¨ : -1
#### **[ 3. ì½”ë“œ ì˜ˆì‹œ ]**
```
# include <fcntl.h>
# include <unistd.h>
# include <stdlib.h>
# include <stdio.h>

int main() {
    int rfd, wfd, n;
    char buf[BUFSIZ];

    rfd = open("test.txt", O_RDONLY);
    if (rfd == -1) {
        perror("open");
        exit(1);
    }
    
    wfd = open("test_back.txt", O_CREAT | O_WRONLY | O_TRUNC, 0644);
    if (wfd == -1) {
        perror("open");
        exit(1);
    }

    while ((n = read(rfd, buf, sizeof(buf))) > 0) {
        if (write(wfd, buf, n) != n) {
            perror("write");
            exit(1);
        }
    }

    if (n == -1) { perror("read"); }
    
    close(rfd);
    close(wfd);
}
```
- test_back.txt íŒŒì¼ ìƒì„± ë° ë‚´ìš© ë³µì‚¬

<br>

### ğŸ¯ lseek()
#### **[1. ì½”ë“œ ì˜ˆì‹œ]**
```
# include <sys/types.h>
# include <unistd.h>

off_t lseek(int fd, off_t offset, int whence);
```
#### **[2. lseek í•¨ìˆ˜ì˜ íŠ¹ì§•]**
- ì¸ì : 
    - fd : íŒŒì¼ ê¸°ìˆ ì
    - offset : ì´ë™í•  ì˜¤í”„ì…‹ ìœ„ì¹˜
    - whence : ì˜¤í”„ì…‹ì˜ ê¸°ì¤€ ìœ„ì¹˜
        - SEEK_SET : íŒŒì¼ ì‹œì‘ì„ ê¸°ì¤€ìœ¼ë¡œ ê³„ì‚°
        - SEEK_CUR : í˜„ì¬ ìœ„ì¹˜ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ê³„ì‚°
        - SEEL_END : íŒŒì¼ì˜ ëì„ ê¸°ì¤€ìœ¼ë¡œ ê³„ì‚°

1. íŒŒì¼ì˜ ì‹œì‘ì—ì„œ ë‹¤ì„¯ ë²ˆì§¸ ìœ„ì¹˜ë¡œ ì´ë™

    `lseek(fd, 5, SEEK_SET);`

2. íŒŒì¼ì˜ ëì—ì„œ 0ë²ˆì§¸(íŒŒì¼ì˜ ë)ë¡œ ì´ë™

    `lseek(fd, 0, SEEK_END);`

3. í˜„ì¬ ìœ„ì¹˜ë¥¼ ê¸°ì¤€ìœ¼ë¡œ 1ë§Œí¼ ì´ë™í•œ ê°’ì„ êµ¬í•´ íŒŒì¼ ì˜¤í”„ì…‹ ìœ„ì¹˜ë¥¼ í™•ì¸

    `cur_offset = lseek(fd, 0, SEEK_CUR);`

#### **[ 3. ì½”ë“œ ì˜ˆì‹œ ]**
```
// ex_11.c

# include <sys/types.h>
# include <fcntl.h>
# include <unistd.h>
# include <stdlib.h>
# include <stdio.h>

int main() {
    int fd, n;
    off_t start, cur;
    char buf[BUFSIZ];

    fd = open("test.txt", O_RDONLY);
    if (fd == -1) { perror("open"); exit(1); }

    start = lseek(fd, 0, SEEK_SET);
    n = read(fd, buf, sizeof(buf)-1);
    buf[n] = '\0';
    
    printf("Offset start = %d\n", (int)start);
    printf("read %d bytes : %s\n", n, buf);

    cur = lseek(fd, 5, SEEK_CUR);
    n = read(fd, buf, sizeof(buf)-1);
    buf[n] = '\0';
    printf("Offset cur = %d\n", (int)cur);
    printf("read %d bytes : %s\n", n, buf);

    close(fd);
}
```
<br>


### ğŸ¯ O_APPEND
#### [ 1. ì„¤ëª… ]
- open() ì„±ê³µ í›„ íŒŒì¼ì˜ ë§ˆì§€ë§‰ ë°”ì´íŠ¸ ë°”ë¡œ ë’¤ì— ìœ„ì¹˜
- íŒŒì¼ ëì— ìë£Œë¥¼ ì¶”ê°€
```
open("filename.txt", O_RDONLY | O_APPEND);
wirte(fd, buf, sizeof(buf))l
```
- íŒŒì¼ ë’¤ì— ì¶”ê°€í•´ì„œ ì‘ì„±

<br>

### ğŸ¯ ì…ì¶œë ¥ ì¬ì§€ì • & íŒŒì´í”„
#### [ 1. ì…ì¶œë ¥ ì¬ì§€ì • (redirection) ]

ë¦¬ë‹¤ì´ë ‰ì…˜ì€ í”„ë¡œê·¸ë¨ì˜ **í‘œì¤€ ì…ë ¥(stdin, 0), í‘œì¤€ ì¶œë ¥(stdout, 1), í‘œì¤€ ì˜¤ë¥˜(stderr, 2)ì˜** ë°©í–¥ì„ ë‹¤ë¥¸ ê³³ìœ¼ë¡œ ëŒë¦¬ëŠ” ê²ƒì„ ì˜ë¯¸í•©ë‹ˆë‹¤. ì›ë˜ëŠ” í‚¤ë³´ë“œì—ì„œ ì…ë ¥ì„ ë°›ê³  ëª¨ë‹ˆí„°ë¡œ ì¶œë ¥í•´ì•¼ í•  ê²ƒì„, íŒŒì¼ì—ì„œ ì…ë ¥ì„ ë°›ê±°ë‚˜ íŒŒì¼ë¡œ ì¶œë ¥í•˜ë„ë¡ ë³€ê²½í•˜ëŠ” ê²ƒì´ì£ . 

1. `prog_name < infile` (ì…ë ¥ ì¬ì§€ì •)

    **[ ëœ» ]**: prog_name í”„ë¡œê·¸ë¨ì„ ì‹¤í–‰í•  ë•Œ, í‘œì¤€ ì…ë ¥(fd 0)ì„ í‚¤ë³´ë“œ ëŒ€ì‹  infileì´ë¼ëŠ” íŒŒì¼ë¡œ ì—°ê²°í•˜ë¼ëŠ” ì˜ë¯¸ì…ë‹ˆë‹¤.

    **[ ì˜ˆì‹œ ]** : ì›ë˜ í‚¤ë³´ë“œë¡œ ì‚¬ìš©ì ì´ë¦„ê³¼ ë‚˜ì´ë¥¼ ì…ë ¥ë°›ëŠ” í”„ë¡œê·¸ë¨ì´ ìˆì—ˆë‹¤ë©´, ì´ ëª…ë ¹ì„ ì‚¬ìš©í•˜ë©´ infileì— ë¯¸ë¦¬ ì ì–´ë‘” ì´ë¦„ê³¼ ë‚˜ì´ë¥¼ ìë™ìœ¼ë¡œ ì½ì–´ì„œ ì‹¤í–‰í•˜ê²Œ ë©ë‹ˆë‹¤. scanf()ë‚˜ ì €ìˆ˜ì¤€ read(0, ...) í•¨ìˆ˜ê°€ ì´ì œ íŒŒì¼ë¡œë¶€í„° ë°ì´í„°ë¥¼ ì½ê²Œ ë©ë‹ˆë‹¤.

2. `prog_name > outfile` (ì¶œë ¥ ì¬ì§€ì •)

    **[ ëœ» ]** : prog_name í”„ë¡œê·¸ë¨ì˜ í‘œì¤€ ì¶œë ¥(fd 1)ì„ ëª¨ë‹ˆí„° ëŒ€ì‹  outfileì´ë¼ëŠ” íŒŒì¼ë¡œ ì—°ê²°í•˜ë¼ëŠ” ì˜ë¯¸ì…ë‹ˆë‹¤.

    **[ ì˜ˆì‹œ ]** : í™”ë©´ì— "Hello, World!"ë¥¼ ì¶œë ¥í•˜ëŠ” í”„ë¡œê·¸ë¨ì˜ ê²°ê³¼ë¥¼ ëª¨ë‹ˆí„°ì— ë³´ì—¬ì£¼ì§€ ì•Šê³ , outfileì´ë¼ëŠ” íŒŒì¼ ì•ˆì— "Hello, World!"ë¼ëŠ” ë‚´ìš©ì„ ì €ì¥í•˜ê²Œ ë©ë‹ˆë‹¤. printf()ë‚˜ ì €ìˆ˜ì¤€ write(1, ...) í•¨ìˆ˜ì˜ ì¶œë ¥ì´ íŒŒì¼ë¡œ í–¥í•˜ê²Œ ë©ë‹ˆë‹¤. (ë§Œì•½ outfileì´ ì´ë¯¸ ì¡´ì¬í•˜ë©´ ë®ì–´ì“°ê¸° ë˜ë©°, >>ë¥¼ ì‚¬ìš©í•˜ë©´ íŒŒì¼ ëì— ì´ì–´ì“°ê¸°ë¥¼ í•©ë‹ˆë‹¤.)

3. `prog_name < infile > outfile`

    **[ ëœ» ]**: ìœ„ ë‘ ê°€ì§€ë¥¼ í•©ì¹œ ê²ƒì…ë‹ˆë‹¤. infileì—ì„œ ì…ë ¥ì„ ë°›ì•„ í”„ë¡œê·¸ë¨ì„ ì‹¤í–‰í•˜ê³ , ê·¸ ê²°ê³¼ë¥¼ ëª¨ë‹ˆí„°ê°€ ì•„ë‹Œ outfileì— ì €ì¥í•˜ë¼ëŠ” ì˜ë¯¸ì…ë‹ˆë‹¤.

#### [ 2. íŒŒì´í”„ ]
íŒŒì´í”„ëŠ” í•œ í”„ë¡œê·¸ë¨ì˜ í‘œì¤€ ì¶œë ¥(stdout, 1)ì„ ë‹¤ë¥¸ í”„ë¡œê·¸ë¨ì˜ í‘œì¤€ ì…ë ¥(stdin, 0)ìœ¼ë¡œ ì§ì ‘ ì—°ê²°í•´ ì£¼ëŠ” í†µë¡œ ì—­í• ì„ í•©ë‹ˆë‹¤. ì¤‘ê°„ì— íŒŒì¼ì„ ë§Œë“¤ í•„ìš” ì—†ì´ ë‘ í”„ë¡œê·¸ë¨ì„ ì»¨ë² ì´ì–´ ë²¨íŠ¸ì²˜ëŸ¼ ì´ì–´ì£¼ëŠ” ê²ƒì´ì£ . 

1. `prog1 | prog2`

    **[ ëœ» ]**: prog1ì„ ì‹¤í–‰í•˜ê³ , ê·¸ ê²°ê³¼(í‘œì¤€ ì¶œë ¥)ë¥¼ í™”ë©´ì— ë³´ì—¬ì£¼ì§€ ë§ê³  ì¦‰ì‹œ prog2 í”„ë¡œê·¸ë¨ì˜ ì…ë ¥(í‘œì¤€ ì…ë ¥)ìœ¼ë¡œ ì „ë‹¬í•˜ë¼ëŠ” ì˜ë¯¸ì…ë‹ˆë‹¤.

    **[ ë™ì‘ ì›ë¦¬ ]**: ì…¸ì´ prog1ì˜ íŒŒì¼ ê¸°ìˆ ì 1ë²ˆê³¼ prog2ì˜ íŒŒì¼ ê¸°ìˆ ì 0ë²ˆì„ ë³´ì´ì§€ ì•ŠëŠ” íŒŒì´í”„(pipe)ë¡œ ì—°ê²°í•´ ì¤ë‹ˆë‹¤. prog1ì´ printf()ë¡œ ë¬´ì–¸ê°€ë¥¼ ì¶œë ¥í•˜ë©´, ê·¸ ë°ì´í„°ê°€ íŒŒì´í”„ë¥¼ í†µí•´ í˜ëŸ¬ê°€ prog2ì˜ scanf() ì…ë ¥ìœ¼ë¡œ ë°”ë¡œ ë“¤ì–´ê°‘ë‹ˆë‹¤.

    **[ ëŒ€í‘œì ì¸ ì˜ˆì‹œ ]**: í˜„ì¬ ë””ë ‰í„°ë¦¬ì˜ íŒŒì¼ ëª©ë¡(ls -l) ì¤‘ì—ì„œ .cë¡œ ëë‚˜ëŠ” íŒŒì¼ë§Œ ì°¾ì•„ë³´ê³  ì‹¶ì„ ë•Œ ì‚¬ìš©í•©ë‹ˆë‹¤.

    `$ ls -l | grep .c`

    ls -lì˜ ì¶œë ¥ ê²°ê³¼ê°€ í™”ë©´ì— ë‚˜ì˜¤ì§€ ì•Šê³ , íŒŒì´í”„ë¥¼ í†µí•´ grep .c í”„ë¡œê·¸ë¨ì˜ ì…ë ¥ìœ¼ë¡œ ì „ë‹¬ë©ë‹ˆë‹¤. grepì€ ê·¸ ì…ë ¥ ì¤‘ì—ì„œ .cê°€ í¬í•¨ëœ ì¤„ë§Œ ê³¨ë¼ì„œ ìµœì¢…ì ìœ¼ë¡œ í™”ë©´ì— ë³´ì—¬ì¤ë‹ˆë‹¤.

<br>

### ğŸ¯ íŒŒì¼ ê¸°ìˆ ì ë³µì‚¬ : dup() 
#### [ 1. ì„¤ëª… ]
```
#include <unistd.h>

int dup(int oldfd);
```
- ìƒˆë¡œ í• ë‹¹ë˜ëŠ” íŒŒì¼ ê¸°ìˆ ìëŠ” í˜„ì¬ í• ë‹¹í•  ìˆ˜ ìˆëŠ” íŒŒì¼ ê¸°ìˆ ì ì¤‘ ê°€ì¥ ì‘ì€ ê°’ìœ¼ë¡œ ìë™ í• ë‹¹

#### [ 2. íŠ¹ì§• ]
- ì¸ì 
    - oldfd : ê¸°ì¡´ íŒŒì¼ ê¸°ìˆ ì

#### [ 3. ì½”ë“œ ì˜ˆì‹œ ]
```
// ex_12.c

#include <unistd.h>
#include <stdlib.h>
#include <stdio.h>

int main(void) {
    int fd, fd1;

    fd = open("tmp.aaa", O_CREAT | O_WRONLY | O_TRUNC, 0644);
    if (fd == -1) {
        perror("Create tmp.aaa");
        exit(1);
    }

    close(1);

    fd1 = dup(fd);

    printf("DUP FD=%d\n", fd1);
    printf("Standard Output Redirection\n");
    close(fd);
    return 0;
 }
```
<br>

### íŒŒì¼ ê¸°ìˆ ì ë³µì‚¬ : dup2()
#### ğŸ¯ [ 1. ì„¤ëª… ]
```
# include <unistd.h>

int dup2(int oldfd, int newfd);
```
- oldfd : ë³µì‚¬í•  íŒŒì¼ ê¸°ìˆ ì
- newfd : íŒŒì¼ ê¸°ìˆ ìë¥¼ ë³µì‚¬í•  ê³³

#### ğŸ¯ [2. ì½”ë“œ ì˜ˆì‹œ]
```
// ex_13.c

#include <fcntl.h>
#include <unistd.h>
#include <stdlib.h>
#include <stdio.h>

int main(void) {
    int fd, fd1;

    fd = open("ex_13.c", O_CREAT | O_WRONLY | O_TRUNC, 0644);
    if (fd == -1) {
        perror("Create ex_13.c");
        exit(1);
    }

    dup2(fd, fd1);

    printf("duplicated : %d\n", fd1);
    close(fd);

    return 0;
}
```

### ğŸ¯ íŒŒì¼ ê¸°ìˆ ì ì œì–´ : fcntl()
#### [ 1. ì„¤ëª… ]
```
# include <unistd.h>
# include <fcntl.h>

int fcntl(int fd, int cm, ... /*arg*/);
```
- fd : íŒŒì¼ ê¸°ìˆ ì
- cmd : ëª…ë ¹
    1. F_GETFL : ìƒíƒœ í”Œë˜ê·¸ ì •ë³´ ì½ì–´ì˜¤ê¸°
    2. F_SETFL : ìƒíƒœ í”Œë˜ê·¸ ì •ë³´ ìˆ˜ì •
- arg : cmdì— ë”°ë¼ ì§€ì •í•˜ëŠ” ì¸ìê°’

#### [ 2. ì˜ˆì‹œ ì½”ë“œ ]
    ```
    #include <sys/types.h>
    #include <fcntl.h>
    #include <unistd.h>
    #include <stdlib.h>
    #include <stdio.h>

    int main(void) {
        int fd, flags;

        fd = open("test.txt", O_RDWR);
        //fd = open("test.txt", O_RDONLY);
        //fd = open("test.txt", O_WRONLY);
        if (fd == -1) {
            perror("open error (fcntl)");
            exit(1);
        }

        if ((flags = fcntl(fd, F_GETFL)) == -1) {
            perror("fcntl");
            exit(1);
        }

        flags |= O_APPEND;

        if (fcntl(fd, F_SETFL, flags) == -1) {
            perror("fcntl");
            exit(1);
        }

        if (write(fd, "UNIX Programming Class", 32) != 32) perror("write");
        close(fd);

        return 0;
    }
    ```

### ğŸ¯ íŒŒì¼ ì‚­ì œ : remove()
#### [ 1. ì„¤ëª… ]
```
# include <stdio.h>

int remove(const char *pathname);
```
- pathì— ì§€ì •í•œ íŒŒì¼, ë””ë ‰í„°ë¦¬ ì‚­ì œ
- ì‚­ì œ ëŒ€ìƒì´ íŒŒì¼ì¼ ê²½ìš° unlink() í˜¸ì¶œ
- ì‚­ì œ ëŒ€ìƒì´ ë””ë ‰í„°ë¦¬ì¼ ê²½ìš° rmdir() í˜¸ì¶œ

#### [ 2. ì½”ë“œ ì˜ˆì‹œ ]
```
// ex_14.c

# include <stdlib.h>
# include <stdio.h>

int main() {
    int ret;

    ret = remove("test.txt");
    if (ret == -1) {
        perror("file not exist!");
        exit(1);
    }

    printf("File successfully removed!\n");
}
```
<br>

### ğŸ¯ íŒŒì¼ê³¼ ë””ìŠ¤í¬ ë™ê¸°í™” : fsync()
#### [ 1. ì„¤ëª… ]
```
#include <unistd.h>

int fsync(int fd);
```
- fd : ë””ìŠ¤í¬ë¡œ ì €ì¥í•  íŒŒì¼ì˜ íŒŒì¼ ê¸°ìˆ ì